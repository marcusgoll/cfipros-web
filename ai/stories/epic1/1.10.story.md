# Story 1.10: Landing/Marketing Page

**Status:** Done

## Goal & Context

**User Story:** As a Visitor, I want to see a compelling Landing/Marketing page, so that I understand what CFIPros offers and can sign up.

**Context:** This story focuses on creating the first impression point for potential users - the Landing/Marketing page. This page will highlight the core value proposition of CFIPros, with specific sections targeting the three main user roles (Students, CFIs, and Flight School Administrators). The page will need to effectively communicate the benefits of using the platform and guide users through clear calls-to-action to register for the appropriate account type.

## Detailed Requirements

As a Visitor, I want to see a compelling Landing/Marketing page with the following specific sections:

1. **TopBar Section**

   - Purpose: Fast navigation and conversion
   - Key Elements:
     - Logo + word-mark
     - Navigation links: Why, Products, Pricing, Docs, Community
     - CTA "Dashboard" button (outline style)

2. **Hero Section**

   - Purpose: Communicate value proposition
   - Key Elements:
     - 2-line headline with orange highlight
     - Sub-headline
     - Primary CTA "Get Started – Free" button
     - Secondary CTA "Talk to a Human" button

3. **Product Matrix Section**

   - Purpose: PostHog-style grid of tools
   - Key Elements:
     - List of tools down left side (ACS Extractor, Lesson Plan AI, Student CRM, Scheduler, Logbook, etc.)
     - Screenshot/description panel on right

4. **Value Section**

   - Purpose: Why choose us?
   - Key Elements:
     - 3 mascot cards highlighting:
       - "Replace Paperwork"
       - "Boost Pass Rates"
       - "Grow Revenue"

5. **Roadmap Section**

   - Purpose: Transparency
   - Key Elements:
     - Two-column board (Under Consideration / In Progress)
     - "Public Handbook" link

6. **Call To Action Section**

   - Purpose: Final conversion push
   - Key Elements:
     - Retro pricing box
     - Free tier highlights

7. **Footer Section**
   - Purpose: Links & trust
   - Key Elements:
     - Sitemap columns
     - Trust badges: Open source, SOC-2, FAA-compliant

## Acceptance Criteria (ACs)

- AC1: Static page(s) developed using Next.js.
- AC2: Content outlines key features and benefits for Students, CFIs, and Schools.
- AC3: Clear Call-to-Actions (CTAs) for signup.
- AC4: Professionally designed, adhering to UI/UX guidelines (calm UX, modern).
- AC5: Page is responsive.
- AC6: Implement PostHog analytics tracking for page views and key user interactions.
- AC7: Page uses dark mode by default but supports both light and dark modes.

## Technical Implementation Context

**Guidance:** Use the following details for implementation. Refer to the linked `docs/` files for broader context if needed.

- **Relevant Files:**

  - Files to Create:
    - `src/app/page.tsx` (Main landing page component)
    - `src/components/features/landing/TopBar.tsx` (Navigation bar component)
    - `src/components/features/landing/HeroSection.tsx` (Hero section with main CTAs)
    - `src/components/features/landing/ProductMatrix.tsx` (Grid of tools with descriptions)
    - `src/components/features/landing/ValueSection.tsx` (Three key value proposition cards)
    - `src/components/features/landing/RoadmapSection.tsx` (Development roadmap display)
    - `src/components/features/landing/CallToAction.tsx` (Final conversion section)
    - `src/components/features/landing/Footer.tsx` (Site footer with links and trust badges)
    - `src/components/features/landing/ThemeToggle.tsx` (Theme toggle component)
  - Files to Modify:
    - None (this is a new standalone component)
  - External Integration:
    - Utilize existing PostHog and Analytics providers from `src/app/layout.tsx`
  - _(Hint: See `docs/project-structure.md` for overall layout)_

- **Key Technologies:**

  - Next.js
  - React
  - TypeScript
  - Tailwind CSS for styling
  - shadcn/ui components
  - React Server Components (for static content)
  - PostHog (for analytics tracking)
  - next-themes package for theme management
  - _(Hint: See `docs/tech-stack.md` for full list and version information)_

- **Analytics Usage:**

  - Use PostHog to track the following events:
    - Page views (automatically tracked by PostHog)
    - CTA button clicks (by section and button type)
    - Section views (when user scrolls to specific sections)
    - Product matrix tool selections
    - Roadmap item interactions
    - Theme changes (light/dark mode toggle)
  - Leverage the existing `PostHogProvider` and `AnalyticsProvider` in the root layout
  - For client-side interactions requiring tracking, use client components with PostHog hooks

- **UI/UX Notes:**

  - The landing page should have a clean, modern design with a "calm UX" approach
  - Default to dark mode theme following the brand color palette (primary: #F47C20, background: #1C1C24, card: #26262F)
  - Ensure all components support both light and dark modes using CSS variables or Tailwind's dark mode classes
  - Include a theme toggle in the navigation bar for users to switch between light and dark modes
  - Use soft, professional color palette
  - Ensure visual hierarchy guides users to key information and CTAs
  - Include high-quality imagery related to aviation/flight training
  - Use responsive design to ensure good experience on all devices
  - Implement smooth transitions and animations sparingly for a premium feel

- **Data Structures:**

  - No specific data models required for this page
  - May use static content objects defined within components:

    ```typescript
    interface Product {
      id: string;
      name: string;
      description: string;
      screenshot: string;
    }

    interface ValueCard {
      title: string;
      description: string;
      mascotImage: string;
    }

    interface RoadmapItem {
      title: string;
      description: string;
      status: 'under-consideration' | 'in-progress';
    }

    // Analytics event naming conventions
    type AnalyticsEvent =
      | 'landing_cta_clicked'
      | 'landing_product_selected'
      | 'landing_section_viewed'
      | 'landing_roadmap_item_clicked'
      | 'landing_theme_changed';
    ```

- **Environment Variables:**

  - PostHog configuration should already be set up in environment variables
  - Existing providers in `src/app/layout.tsx` handle the connection
  - _(Hint: See `docs/environment-vars.md` for all variables)_

- **Coding Standards Notes:**
  - Use React Server Components where possible for static content
  - Use Client Components when tracking user interactions with PostHog
  - Ensure all components are typed properly
  - Use semantic HTML for better accessibility
  - Implement responsive design using Tailwind's responsive classes
  - Follow BEM-like naming conventions for custom CSS classes (if any needed beyond Tailwind)
  - Ensure a11y compliance (proper contrast, alt tags for images, ARIA attributes where needed)
  - Use consistent analytics event naming patterns
  - Implement proper color contrast ratios for both light and dark themes to maintain accessibility
  - _(Hint: See `docs/coding-standards.md` for full standards)_

## Tasks / Subtasks

- [x] **Task 1: Create Base Landing Page Layout**

  - [x] Create `src/app/page.tsx` as a Server Component
  - [x] Implement the page metadata (title, description)
  - [x] Set up the overall page structure to include all required sections

- [x] **Task 2: Implement TopBar Section**

  - [x] Create `src/components/features/landing/TopBar.tsx` component
  - [x] Include logo and word-mark
  - [x] Add navigation links: Why, Products, Pricing, Docs, Community
  - [x] Create outline-style "Dashboard" CTA button
  - [x] Implement theme toggle functionality
  - [x] Ensure responsive design with mobile menu
  - [x] Add PostHog tracking for navigation and CTA clicks

- [x] **Task 3: Implement Hero Section**

  - [x] Create `src/components/features/landing/HeroSection.tsx` component
  - [x] Design 2-line headline with orange highlight for key words
  - [x] Add compelling sub-headline explaining value proposition
  - [x] Include primary "Get Started – Free" CTA button
  - [x] Ensure responsive design for various screen sizes
  - [x] Add PostHog event tracking for CTA button clicks

- [x] **Task 4: Create Product Matrix Section**

  - [x] Create `src/components/features/landing/ProductMatrix.tsx` component
  - [x] Implement PostHog-style grid layout with tools list on left
  - [x] Create list items for: ACS Extractor, Lesson Plan AI, Student CRM, Scheduler, Logbook, etc.
  - [x] Design right panel for screenshots and descriptions that change based on selection
  - [x] Implement responsive behavior for mobile devices
  - [x] Add PostHog tracking for tool selection interactions
  - [x] Add interactive file upload component with success/error states

- [x] **Task 5: Implement Value Section**

  - [x] Create `src/components/features/landing/ValueSection.tsx` component
  - [x] Design three mascot cards highlighting key value propositions:
    - [x] "Replace Paperwork" card
    - [x] "Boost Pass Rates" card
    - [x] "Grow Revenue" card
  - [x] Ensure responsive layout for this section
  - [x] Add PostHog tracking for card interactions

- [x] **Task 6: Implement Roadmap Section**

  - [x] Create `src/components/features/landing/RoadmapSection.tsx` component
  - [x] Design two-column board layout (Under Consideration / In Progress)
  - [x] Add items to each column with relevant information
  - [x] Include "Public Handbook" link
  - [x] Ensure responsive design for various screen sizes
  - [x] Add PostHog tracking for roadmap interactions and handbook link clicks

- [x] **Task 7: Implement Call To Action Section**

  - [x] Create `src/components/features/landing/CallToAction.tsx` component
  - [x] Design retro-style pricing box
  - [x] Highlight free tier features and benefits
  - [x] Include compelling final CTA buttons
  - [x] Ensure responsive design
  - [x] Add PostHog tracking for CTA button clicks

- [x] **Task 8: Implement Footer Section**

  - [x] Create `src/components/features/landing/Footer.tsx` component
  - [x] Design sitemap columns with relevant links
  - [x] Add trust badges: Open source, SOC-2, FAA-compliant
  - [x] Ensure responsive layout
  - [x] Add PostHog tracking for link clicks

- [x] **Task 9: Implement Theme Support**

  - [x] Create `src/components/features/landing/ThemeToggle.tsx` as a Client Component
  - [x] Install and configure next-themes package
  - [x] Set up dark mode as the default theme
  - [x] Ensure all components properly handle theme switching
  - [x] Test theme toggle functionality
  - [x] Add PostHog tracking for theme changes
  - [x] Verify proper color contrast in both themes for accessibility

- [x] **Task 10: Implement Section Visibility Tracking**

  - [x] Create an Intersection Observer utility to track when sections become visible
  - [x] Add section visibility tracking to all major page sections
  - [x] Send appropriate PostHog events when users view important content sections

- [x] **Task 11: Implement Responsive Design**

  - [x] Test landing page on various device sizes
  - [x] Ensure all sections adapt appropriately to screen size
  - [x] Verify readability and usability on mobile devices
  - [x] Optimize imagery for different viewport sizes
  - [x] Ensure analytics events work properly across all device types

- [x] **Task 12: Final Review and Polish**
  - [x] Conduct accessibility review
  - [x] Optimize performance (image sizes, lazy loading where appropriate)
  - [x] Check for visual consistency and alignment with design standards
  - [x] Ensure all CTAs function correctly and link to appropriate pages
  - [x] Verify all analytics events are firing correctly
  - [x] Test analytics data appears correctly in PostHog dashboard
  - [x] Confirm theme switching works properly across all components and device sizes

## Testing Requirements

**Guidance:** Verify implementation against the ACs using the following tests.

- **Unit Tests:**

  - Test rendering of each landing page component
  - Verify components accept and display provided props correctly
  - Test analytics tracking functions fire correct events
  - Test theme toggling functionality

- **Integration Tests:**

  - Test that all components render together properly on the page
  - Verify that CTAs link to correct routes
  - Verify analytics events fire when components interact
  - Test theme switching affects all components properly

- **Automated Verification:**

  - Run accessibility tests using tools like Lighthouse
  - Verify responsive design with automated viewport testing if available
  - Validate that analytics events are properly structured
  - Test color contrast in both light and dark themes

- **Manual Verification:**
  - Visual inspection on different devices (desktop, tablet, mobile)
  - Check that the page adheres to design guidelines
  - Verify that all CTAs are correctly linked
  - Test keyboard navigation for accessibility
  - Check that all content is visible and readable
  - Verify performance (load time, animations) on various devices
  - Confirm analytics events appear in PostHog dashboard during testing
  - Verify theme switching works properly and maintains accessibility in both modes

## Completion Notes

All required components for the landing page have been successfully implemented with the following enhancements:

1. **Hero Section**:

   - Enhanced with highlighted key phrases for better readability and emphasis
   - Removed "Talk to a Human" button per user request, focusing on a single prominent CTA
   - Made the "Get Started" button larger and more visually prominent

2. **Product Matrix Section**:

   - Added interactive hover effects for each feature card
   - Implemented a functional file upload component with success/error states
   - Using proper accessibility attributes for interactive elements

3. **Roadmap Section**:

   - Made background compatible with both light and dark modes
   - Fixed accessibility issues by replacing non-interactive elements with proper button elements

4. **Call To Action Section**:
   - Fixed "Best Value" badge positioning for better visibility

All components include proper PostHog tracking for user interactions, and the implementation follows accessibility best practices. The page is fully responsive across all device sizes.
